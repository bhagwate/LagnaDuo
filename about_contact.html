<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>About & Contact — LagnaDuo</title>
  <meta name="description" content="About Astrology of Bharat and Contact information for LagnaDuo." />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Merriweather:wght@400;700&display=swap" rel="stylesheet">
  <style>
    /* Identical styles to index.html to maintain look and feel */
    :root{
      --bg: #fcfbf9;
      --card: #ffffff;
      --accent: #7c5cff;
      --accent-2: #f59e0b;
      --muted: #6b7280;
      --text: #0f172a;
      --shadow: 0 8px 30px rgba(16,24,40,0.06);
      --glass: rgba(255,255,255,0.6);
      --max-width:1100px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      background:linear-gradient(180deg,var(--bg),#fbf7ff);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.6;
    }
    .container{max-width:var(--max-width);padding:28px;margin:0 auto}
    header{display:flex;align-items:center;justify-content:space-between;padding:10px 0; margin-bottom: 20px;}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent),#b794f4);display:flex;align-items:center;justify-content:center;color:white;font-weight:700;font-family:Merriweather}
    .site-title{font-weight:700;font-family:Merriweather}
    .nav{display:flex;gap:12px;align-items:center}
    .btn{background:var(--accent);color:white;padding:10px 16px;border-radius:10px;text-decoration:none;font-weight:600;box-shadow:var(--shadow);border:0}
    .btn-ghost{background:transparent;border:1px solid rgba(16,24,40,0.06);padding:8px 12px;border-radius:8px;text-decoration:none;color:var(--text);font-weight:500}
    .small{font-size:13px;color:var(--muted)}
    
    /* Layout for About/Contact Page */
    .page-grid {
      display: grid;
      /* 68% for content, remaining for sidebar/contact */
      grid-template-columns: 68% 1fr; 
      gap: 40px;
      margin-top: 20px;
    }

    /* Typography */
    h1, h2, h3 { font-family: Merriweather; color: var(--text); }
    h1 { margin-bottom: 10px; }
    h2 { font-size: 22px; margin-top: 30px; margin-bottom: 12px; color: var(--accent); }
    p { margin-bottom: 16px; color: #334155; }
    
    /* Contact Form Styling */
    .contact-card {
      background: var(--card);
      padding: 24px;
      border-radius: 12px;
      box-shadow: var(--shadow);
      position: sticky;
      top: 20px;
    }
    .form-group { margin-bottom: 16px; }
    .form-group label { display: block; margin-bottom: 6px; font-weight: 600; font-size: 14px; }
    .form-group input, .form-group textarea {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid rgba(15,23,42,0.1);
      font-family: inherit;
    }
    .form-group textarea { height: 100px; resize: vertical; }
    
    /* New Styles for Logic/Validation */
    .name-row { display: flex; gap: 10px; }
    .name-row .form-group { flex: 1; }
    
    .error-message {
      color: #dc2626;
      font-size: 12px;
      margin-top: 4px;
      display: none;
    }

    .submit-btn {
      width: 100%;
      background: var(--accent);
      color: white;
      padding: 12px;
      border-radius: 10px;
      border: none;
      font-weight: 600;
      cursor: pointer;
      font-size: 16px;
      transition: opacity 0.3s;
    }
    .submit-btn:hover { opacity: 0.9; }
    .submit-btn:disabled { background: #ccc; cursor: not-allowed; }

    /* Modal Styles */
    #success-modal-overlay {
      display: none; position: fixed; inset: 0; background-color: rgba(0,0,0,0.6); z-index: 999;
    }
    #success-modal {
      display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
      background-color: white; padding: 30px; border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2); z-index: 1000;
      text-align: center; width: 90%; max-width: 450px;
    }
    #close-modal-btn {
      padding: 10px 20px; border: none; border-radius: 8px;
      background-color: var(--accent); color: white; font-weight:600; cursor: pointer;
    }

    footer{padding:28px 0;color:var(--muted);font-size:14px; border-top: 1px solid rgba(0,0,0,0.05); margin-top: 40px;}

    /* Responsive */
    @media (max-width: 900px) {
      .page-grid { grid-template-columns: 1fr; }
      .contact-card { position: static; margin-top: 30px; }
    }
    @media (max-width: 720px) {
      header { padding: 8px 0; }
      .nav { display: none; }
    }
    
    /* Animation */
    .fade-up{opacity:0;transform:translateY(8px);animation:fadeUp .7s ease forwards}
    @keyframes fadeUp{to{opacity:1;transform:none}}

  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <a href="index.html" style="text-decoration:none; display:flex; gap:12px; align-items:center; color:inherit;">
          <div class="logo">LB</div>
          <div>
            <div class="site-title">Astrology of Bharat</div>
            <div class="small">LagnaDuo — Shared Future Scorecard</div>
          </div>
        </a>
      </div>
      <nav class="nav">
        <a class="btn-ghost" href="index.html">Home</a>
        <a class="btn-ghost" href="index.html#how">How it works</a>
        <a class="btn" href="index.html#buy">Get your scorecard</a>
        <a class="btn-ghost" href="about_contact.html">About & Contact</a>
      </nav>
    </header>

    <div class="page-grid fade-up">
      
      <section class="about-content">
        <h1>About Us</h1>
        <p class="small" style="margin-bottom: 24px;">Understanding destiny, one chart at a time.</p>
        
        <hr style="border: 0; border-top: 1px solid rgba(0,0,0,0.06); margin-bottom: 30px;">
        <h2>About LagnaDuo<sup>TM</sup></h2>
        <p>
          LagnaDuo<sup>TM</sup> was born out of a specific need I observed in my practice. Traditional compatibility matching (Guna Milan) often addresses the psychological or spiritual affinity between two people, but it frequently misses the practical, gritty reality of <em>living together</em>.
        </p>
        <p>
          I realized that many couples who were "compatible" on paper still struggled with the daily mechanics of a shared life—waking times, chore preferences, financial habits, and spatial needs.
        </p>
        <p>
          LagnaDuo<sup>TM</sup> is a specialized scorecard designed to bridge this gap. It utilizes a unique algorithm based on the Ascendant (Lagna) and house superimposition to predict the harmony of a shared environment. It answers the question: <em>"Can we live in the same house without driving each other crazy?"</em> It is a tool for the modern couple who wants to build a home that is not just loving, but peaceful.
        </p>

        <h2>About the Author</h2>
        <p>
          Partho Banerjee is a Jyotishi or Vedic astrologer as popularly called these days, as well as passionate applications software expert dedicated to making actionable Jyotish tools accessible to all.

This Astrology software is created, owned, managed and maintained by Partho Banerjee, that’s me. LagnaOne is designed to grow for and with the Jyotish community.
        </p>
        <p>
          My journey in IT: I have been a full time IT and software professional for 14 years and have done Master's in Computer Applications. I am certified corporate IT trainer by Indian Institute of Technology (IIT) Kanpur, India and IBM Corporation. I have worked with leading IT companies in banking and financial services domain at global cities including London, Singapore, Mumbai, Copenhagen, Hong Kong etc.
        </p>  
        <p>
        Astrology: My journey in Jyotish or Vedic astrology as popularly called, numerology and spiritual sciences began in the year 1999 and I started informal horoscope analysis in the year 2001. All through that decade, I was pursuing my full time job in the IT along-side my quest in astrology in parallel.</p>
        <p>
In my eventful journey of more than a decade and half as practicing astrologer, I have done consultations for people from different walks of life across various cultures and countries (thanks to the internet).
        </p>
        <p>
        If you wish to know more about my astrology journey or want to connect with the astrologer in me, here is my astrology page☞ AstrologyOfBharat.org
        </p>
      </section>

      <aside class="contact-section">
        <div class="contact-card">
          <h3 style="margin-top:0">Contact Us</h3>
          <p class="small">Have a question or need support? Fill out the form below.</p>
          
          <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"></iframe>

          <form id="contactForm" 
                class="leadform-vertical" 
                action="https://script.google.com/macros/s/AKfycbzrwytnuvUf1__-mQ_jjQDdWYZQxp7I9zK1DUT_m6Pl7VV6x1AdCYsUwgqnaDJn51AqAQ/exec" 
                method="POST" 
                target="hidden_iframe">
            
            <input type="hidden" name="timestamp" id="timestamp" />

            <div class="name-row">
              <div class="form-group">
                <label for="firstName">First Name</label>
                <input type="text" id="firstName" name="firstName" placeholder="First Name" required>
                <div id="firstNameError" class="error-message">Invalid name format.</div>
              </div>
              
              <div class="form-group">
                <label for="lastName">Last Name</label>
                <input type="text" id="lastName" name="lastName" placeholder="Last Name" required>
                <div id="lastNameError" class="error-message">Invalid name format.</div>
              </div>
            </div>
            
            <div class="form-group">
              <label for="email">Email</label>
              <input type="email" id="email" name="email" placeholder="your@email.com" required>
              <div id="emailError" class="error-message">Please enter a valid email.</div>
            </div>
            
            <div class="form-group">
              <label for="message">Message</label>
              <textarea id="message" name="message" placeholder="How can we help you?" required></textarea>
              <div id="messageError" class="error-message">Message is required.</div>
              <div id="messageLinkError" class="error-message">Links/URLs are not allowed in messages.</div>
            </div>

            <div class="form-group">
              <label id="captchaLabel" for="captchaInput">Math Check</label>
              <input type="number" id="captchaInput" placeholder="Answer here" required style="width: 100px;">
              <div id="captchaError" class="error-message">Incorrect answer.</div>
            </div>

            <button type="submit" id="submit-btn" class="submit-btn">Send Message</button>
          </form>
          
          <div style="margin-top: 20px; font-size: 13px; color: var(--muted); text-align: center;">
            Or email directly:<br>
            <a href="mailto:info@astrologyofbharat.org" style="color:var(--accent); text-decoration:none;">info@astrologyofbharat.org</a>
          </div>
        </div>
      </aside>

    </div>

    <footer>
      <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap">
        <div class="small">© Astrology of Bharat • LagnaDuo • All rights reserved</div>
        <div class="small">Made with care — <a href="index.html" style="color:inherit; text-decoration: underline;">Home</a></div>
      </div>
    </footer>
  </div>

  <div id="success-modal-overlay"></div>
  <div id="success-modal">
    <h3 style="margin-top:0">Sent!</h3>
    <p>Successfully submitted. Your message has been sent to Partho Banerjee.</p>
    <button id="close-modal-btn">Close</button>
  </div>
  
  <script>
    // Fade Up Animation
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(en=>{
        if(en.isIntersecting) en.target.classList.add('fade-up');
      });
    },{threshold:0.08});
    document.querySelectorAll('.fade-up').forEach(el=>io.observe(el));

    // === CONTACT FORM LOGIC (Integrated from Reference) ===
    document.addEventListener("DOMContentLoaded", function () {
      const form = document.getElementById("contactForm");
      const submitButton = document.getElementById("submit-btn");

      const firstName = document.getElementById("firstName");
      const lastName = document.getElementById("lastName");
      const email = document.getElementById("email");
      const message = document.getElementById("message");
      const captchaInput = document.getElementById("captchaInput");
      const captchaLabel = document.getElementById("captchaLabel");
      const timestamp = document.getElementById("timestamp");

      const firstNameError = document.getElementById("firstNameError");
      const lastNameError = document.getElementById("lastNameError");
      const emailError = document.getElementById("emailError");
      const messageError = document.getElementById("messageError");
      const messageLinkError = document.getElementById("messageLinkError");
      const captchaError = document.getElementById("captchaError");

      const overlay = document.getElementById("success-modal-overlay");
      const modal = document.getElementById("success-modal");
      const closeModalBtn = document.getElementById("close-modal-btn");

      let captchaNum1, captchaNum2, captchaAnswer;

      // Validation Regex
      const nameRegex = /^[A-Za-zÀ-ÖØ-öø-ÿ\s'’-]+$/;
      const emailRegex = /^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/;
      const forbiddenStrings = ['http', 'https', 'www.', '.com', '.net', '.ru', '.in', '.pk', '//'];
      const domainLikeRegex = /\b[a-z0-9-]+\.(com|net|org|info|biz|ru|in|pk|uk|io|co|me|xyz|site|online|shop|store)\b/i;

      function generateCaptcha() {
        captchaNum1 = Math.floor(Math.random() * 10) + 1;
        captchaNum2 = Math.floor(Math.random() * 10) + 1;
        captchaAnswer = captchaNum1 + captchaNum2;
        captchaLabel.textContent = `What is ${captchaNum1} + ${captchaNum2} = ?`;
        captchaInput.value = "";
      }

      function showError(el) { el.style.display = "block"; }
      function hideError(el) { el.style.display = "none"; }

      function sanitizeNameInput(el) {
        el.value = el.value.replace(/[^A-Za-zÀ-ÖØ-öø-ÿ\s'’-]/g, '');
      }

      firstName.addEventListener("input", () => sanitizeNameInput(firstName));
      lastName.addEventListener("input", () => sanitizeNameInput(lastName));

      function containsForbiddenStrings(text) {
        const lower = text.toLowerCase();
        return forbiddenStrings.some(str => lower.includes(str));
      }
      function looksLikeDomain(text) {
        return domainLikeRegex.test(text);
      }

      function validateForm() {
        let valid = true;
        [firstNameError,lastNameError,emailError,messageError,messageLinkError,captchaError].forEach(hideError);

        const firstVal = firstName.value.trim();
        const lastVal = lastName.value.trim();
        const msgVal = message.value.trim();

        // Validate names
        if (!firstVal || !nameRegex.test(firstVal)) { showError(firstNameError); valid = false; }
        if (!lastVal || !nameRegex.test(lastVal)) { showError(lastNameError); valid = false; }

        // Validate email
        if (!emailRegex.test(email.value.trim())) { showError(emailError); valid = false; }

        // Validate message
        if (!msgVal) { 
          showError(messageError); valid = false; 
        } else if (containsForbiddenStrings(msgVal) || looksLikeDomain(msgVal)) {
          showError(messageLinkError); valid = false;
        }

        // Validate captcha
        if (parseInt(captchaInput.value) !== captchaAnswer) { showError(captchaError); valid = false; }

        return valid;
      }

      function showModal() {
        overlay.style.display = "block";
        modal.style.display = "block";
      }
      function closeModal() {
        overlay.style.display = "none";
        modal.style.display = "none";
      }

      closeModalBtn.addEventListener("click", closeModal);
      overlay.addEventListener("click", closeModal);

      form.addEventListener("submit", function(e) {
        // We do not prevent default here immediately because the form targets an iframe
        // But we must validate first. If invalid, prevent default.
        if (!validateForm()) {
          e.preventDefault();
          generateCaptcha();
          return false;
        }

        // Prepare submission
        submitButton.disabled = true;
        submitButton.textContent = "Submitting...";

        timestamp.value = new Date().toLocaleString("en-IN", {
          timeZone: "Asia/Kolkata",
          dateStyle: "full",
          timeStyle: "long",
        });

        // The form will submit to the hidden iframe
        // We set a timeout to simulate success handling since we can't easily read cross-origin iframe load
        setTimeout(() => {
          submitButton.disabled = false;
          submitButton.textContent = "Send Message";
          form.reset();
          generateCaptcha();
          showModal();
        }, 1500);
      });

      generateCaptcha();
    });
  </script>
</body>
</html>
